<!doctype html>
<html ⚡ lang="ja">
<head>
<meta charset="utf-8">
<title>AMPページの作り方</title>
<meta name="description" content="AMPページを作成する際、AMPのルールに沿ってHTMLファイルを作成する必要があります。ただし、AMP独自のHTMLタグはそれほど多くはないため、既存ページをそのまま流用することで簡単に対応できます。">
<meta name="keywords" content="ampページ,作成,作り方">
<meta name="viewport" content="width=device-width">
<link rel="icon" href="../../image/favicon.ico">
<link rel="apple-touch-icon" href="../../apple-touch-icon.png">
<link rel="canonical" href="../../hp/amp.html">
<meta property="og:type" content="article">
<meta property="og:title" content="AMPページの作り方">
<meta property="og:description" content="AMPページを作成する際、AMPのルールに沿ってHTMLファイルを作成する必要があります。ただし、AMP独自のHTMLタグはそれほど多くはないため、既存ページをそのまま流用することで簡単に対応できます。">
<meta property="og:image" content="../../image/amp-speed.png">
<meta property="og:image" content="../../image/amp.png">
<meta property="og:image" content="../../image/amp-cache.png">
<meta property="og:url" content="../../hp/amp.html">
<meta property="og:site_name" content="ホームページの作り方">
<meta name="twitter:card" content="summary">
<style amp-custom>body{margin:0;padding:0;font-family:"ヒラギノ角ゴ ProN W3","Hiragino Kaku Gothic ProN","メイリオ",Meiryo,sans-serif;}#outer{background-image:url(../../image/kinkin.png);background-repeat:repeat-x;padding:0;line-height:1.6;position:relative;}@font-face{font-family:"Noto Sans JP";font-style:normal;font-weight:700;src:url(../../fonts/nbold.woff2) format("woff2"),url(https://www.homepage-tukurikata.com/fonts/nbold.woff) format("woff");font-display:swap;}a{color:#03c;}pre{white-space:pre-wrap;word-wrap:break-word;overflow:auto;}.breadcrumb{margin-left:0;font-weight:bold;color:#555;}hr{border-width:1px 0 0 0;border-style:solid;border-color:#ccc;height:1px;}.hasen{border-style:dotted;border-color:#999;}blockquote{border:1px solid #ccc;padding:5px;margin:10px;}.cnt{text-align:center;}#outer{width:100%;font-size:100%;}#header-inner{width:100%;}.logo{font-size:18px;padding:10px 0 6px 16px;margin:0;color:#033;font-family:"Noto Sans JP";font-weight:700;}.logo a{color:#190F0B;text-decoration:none;display:block;}.logo a:hover{text-decoration:none;}h1{font-size:18px;margin:0;color:#190F0B;background-color:#FCF5DC;line-height:1.3;padding:12px 10px 12px 10px;}h2, h3{font-size:18px;background-color:#FCF5DC;line-height:1.3;padding:12px 10px 12px 10px;}h2 a,h3 a{text-decoration:none;}.kai{display:block;font-weight:bold;color:#333;}.blue{font-size:16px;background-color:#d8e4e8;font-weight:bold;padding:10px 0 10px 10px;}.yellow{padding:14px 0 14px 10px;color:#000;background:#FCF5DC;font-weight:bold;}.black{background-color:#fff;background:none;font-size:16px;padding:4px 10px;}.black:before{content:"■";}.htarrow{background-image:url(/image/html-arrow.png);background-position:left center;background-repeat:no-repeat;padding:0 0 0 15px;margin:1em 0 1em 10px;}#navigation{width:100%;height:auto;}.main-navi{position:relative;z-index:1;margin:0;padding:0;}.main-navi .cut{display:none;}.main-navi li{font-size:14px;margin:0;display:inline-block;height:36px;line-height:36px;position:relative;width:33.3%;text-align:center;box-sizing:border-box;}.main-navi li a{font-weight:bold;color:#333;display:block;padding:0;font-size:12px;border-right:1px solid #f9f9f9;border-top:1px solid #f9f9f9;text-decoration:none;}.main-navi li a:hover{border-bottom:#06c 2px solid;}.main-navi .btm{border-bottom:1px solid #f9f9f9;}.main-navi .lft{border-left:1px solid #f9f9f9;}.navi{font-weight:normal;color:#333;padding:9px 0 9px 10px;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin-top:15px;}.ad-top{display:block;padding:8px 0 0 0;text-align:center;height:100px;}p{margin:1em 0;word-wrap:break-word;color:#333;padding:0 10px;}#content{width:100%;padding:0 0 0 0;margin:0;overflow:auto;}#main{width:100%;clear:both;}.inner{display:block;padding:8px 0 20px 0;}.inner a{font-weight:bold;}.aka{color:#B0231D;font-weight:bold;}.akai{color:#f00;font-weight:normal;}.orange{color:#C30;font-weight:bold;}.ccc{border:solid 1px #ccc;}table{color:#333;}form{margin:7px;}.list{padding:10px 0 0 0;}.listtitle{font-size:20px;font-weight:bold;color:#0a0a0a;padding:0 0 6px 20px;margin:0;border-bottom:solid #ccc 1px;}.list-ul{margin:0;}.list-li{list-style:none;margin:0 10px;border-bottom:1px #ccc solid;padding:0;font-size:14px;}.list-li a{display:block;text-decoration:none;padding:7px 0;}.list-li a:hover{text-decoration:underline;}#sidebar{font-size:100%;padding:0;color:#004C25;width:100%;}.sidet{font-size:15px;font-weight:bold;}.hpcss{color:#fff;background-color:#004C25;}.hikaku{color:#333;background-color:#efece4;border-top:1px solid #000;border-bottom:1px solid #000;}.hikaku, .hpcss{font-size:110%;padding:9px 0 9px 20px;}.ctop{margin-top:0;border-top-left-radius:4px;border-top-right-radius:4px;}.side{padding:3px 0 14px 0;background-color:#F3F7F2;color:#777;background-color:#fff;}.side li{font-size:15px;list-style:none;margin:0;padding:0;border-bottom:1px #ccc solid;}a{font-weight:bold;color:#006ccc;}.side a{display:block;font-weight:bold;color:#0063c1;text-decoration:none;}.side ul{margin:0;padding:0;}.side li a{padding:10px 0 10px 20px;text-decoration:none;}.side li a:hover{text-decoration:none;}.kiiro{padding:9px 0 14px 0;background-color:#fdfbf2;}.momo{padding:9px 0 14px 0;background-color:#fffdfb;}.haiiro{padding:9px 0 14px 0;background-color:#f8f8f8;border-bottom-left-radius:4px;border-bottom-right-radius:4px;}ul{margin:0 0 0 1.4em;padding:0;}ol{margin:0 0 0 2em;padding:0;}.rs{margin:0;}.rs li{list-style:none;margin:0;border-bottom:1px #ccc solid;padding:10px 0;}.selected{color:#212121;font-weight:bold;}#selected{color:#e34352;font-weight:bold;}img{max-width:100%;height:auto;border:0;}.copyright{padding-top:0;margin-left:0;color:#666;text-align:center;}.copy-ul{margin:0;padding:0;list-style-type:none;}.copy-li{margin:0;padding:0 2px;display:inline;}.copy-li a{color:#666;text-decoration:none;font-weight:normal;}.copy-li a:hover{text-decoration:underline;}.copy-li:before{content:"|";margin-right:4px;}.copy-li:first-child:before{display:none}.copyright p{color:#666;}footer{height:179px;width:100%;}.pagetop{font-size:16px;padding:4px 10px 4px 0;text-align:right;}.pagetop a{font-size:36px;padding:20px 0 0 0;}.pagetop a:hover{text-decoration:underline;}.copyright{font-size:13px;}.copy-li{line-height:1.9;display: inline-block;}.sp-bottom{display:block;padding:10px 0 0 0;text-align:center;}.svg-outer{border:1px solid #dadce0;border-radius:50%;padding:9px;}.upward{fill:#75797D;}a:hover .upward{fill:#111;}a:hover .svg-outer{background-color:#f8f8f8;}#kanren{padding:0 10px 0 10px;display:block;}a:hover{color:#06c;text-decoration:none;}.width-320{width:92%;}.smll{font-size:16px;}ul, ol{padding:0 10px;}.sp{padding:0;display:block;}.rs-t{margin-bottom:8px;}
@media screen and (min-width:768px){#header-inner{margin:0 auto;width:600px;}.logo{padding:10px 0 6px 10px;}#navigation{height:44px;border-bottom:1px #e0e0e0 solid;box-sizing:border-box;}.main-navi{margin:0 auto;width:600px;}.main-navi li{font-size:14px;display:inline;width:auto;margin:0;height:44px;line-height:44px;text-align:center;}.main-navi li a{padding:12px 16px;color:#190F0B;text-decoration:none;display:inline;}.main-navi li a:hover{border-bottom:#06c 2px solid;}#main{margin:0 auto;width:600px;}#sidebar{margin:0 auto;width:600px;}.inner{padding:16px 0;margin:0;}.sidet{font-size:20px;padding:9px 0 9px 40px;}.side{padding:9px 0 14px 0;}.side li{margin:0;padding:3px 0 3px 16px;}}
</style>
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<script async src="../../../cdn.ampproject.org/v0.js"></script>
<script async custom-element="amp-ad" src="../../../cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
<script async custom-element="amp-analytics" src="../../../cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
</head>
<body>
<amp-analytics type="gtag" data-credentials="include"><script type="application/json">{"vars" :{"gtag_id": "UA-2336808-16","config" : {"UA-2336808-16": { "groups": "default" }}}}</script></amp-analytics>
<div id="outer">
<header>
<div id="header-inner">
<div class="logo"><a href="../../index.html">ホームページの作り方</a></div>
</div>
<nav id="navigation">
<ul class="main-navi">
<li class="cut"><a href="../../index.html">トップ</a></li><li class="lft"><a href="../../hp/index.html">作り方</a></li><li><a href="../../rental-server/index.html">レンタルサーバー</a></li><!-- 
--><li><a href="../../domain/index.html">ドメイン取得</a></li><li class="lft btm"><a href="../../access/index.html">アクセスアップ</a></li><li class="btm"><a href="../../html/index.html">HTMLタグ</a></li><li class="btm"><a href="../../css/index.html">CSS</a></li>
</ul>
</nav></header>
<div id="content">
<div id="main">
<main class="inner">
<h1>AMPページの作り方</h1>
<p>ホームページを<span class="aka">AMP（アンプ、Accelerated Mobile Pages）</span>に対応すると、モバイル環境で閲覧した際にサイトの表示が高速化されます。</p><p>当ホームページでもAMPには対応していますが、自サイト内の平均読み込み時間で比較するとAMPページは「-76％」となっており、かなり高速で表示されるようになりました。</p>
<p><amp-img src="../../image/amp-speed.png" layout="intrinsic" alt="" width="320" height="200" class="ccc"></amp-img></p><p>AMPは当ホームページでご紹介しているような静的なHTMLサイトと相性がよく、シンプルで軽量なHTMLとCSSで作成することにより、ウェブサイトを高速化することができます。</p><p>実際に作成する際、外部CSSは使えないなどの「<span class="aka">AMP HTML</span>」のルールに沿って作成する必要がありますが、「HTML5」とほぼ同様の仕様となっており、AMP独自のタグはそれほど多くはありません。既存ページをそのまま流用することで簡単に対応できますので、日本語にも対応しているAMPプロジェクトの公式サイトの手順に沿ってAMP化していくことをおすすめします。</p><p>→ <a href="https://amp.dev/ja/" target="_blank" rel="nofollow noopener">https://amp.dev/ja/</a></p>
<p><a href="https://webmaster-ja.googleblog.com/2016/09/8-tips-to-amplify-your-clients.html" target="_blank" rel="nofollow noopener">Googleの公式ブログ</a>では、「3. サイト全体を AMP 化（#AMPlify）する必要はない」とあるため、サイト内の１部のページのみをAMPに対応するのでも問題はありません。</p><p>また、「<span class="aka">6. 検索結果のランキングに影響はない</span>」とありますが、当サイトでも検索順位への影響は全くありませんでした。高速で表示されることで軽微なSEO効果ぐらいはあるだろうと期待していましたが、現状では全くの無風状態です。</p><p>モバイルファースト・インデックスは、正規化しているページのモバイル版が評価の対象となるため、AMPページについては評価の対象外になるものと思います。</p><p>ただし、<a href="../../hp/json.html">構造化データ</a>のリッチリザルトでは、非AMPページよりもAMPページの方がより魅力的な形で検索結果では表示されるため、クリック率の改善で間接的な影響はあるかもしれません。アクセスの入口となるランディングページについては重点的に対応していくとよいでしょう。</p><!-- #BeginLibraryItem "/Library/ad-a.lbi" -->
<amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-7318724010966086"
     data-ad-slot="7441039866"
     data-auto-format="rspv"
     data-full-width="">
  <div overflow=""></div>
</amp-ad><!-- #EndLibraryItem --><h2>AMPページ作成と「Google AMPキャッシュ」の関係</h2>
<p>AMPページを作成しておくと、GoogleにAMPページのキャッシュが作成され、Googleのサーバーからキャッシュページが直接表示されるようになります。</p><p><amp-img src="../../image/amp-cache.png" layout="intrinsic" alt="" width="320" height="209" class="ccc"></amp-img></p><p>（※参照：<a href="https://developers.google.com/amp/cache/overview" target="_blank" rel="nofollow noopener">概要 | Google AMP キャッシュ | Google Developers</a>）
</p><p>PCサイトでもキャッシュがありますが、こちらは正規ページのキャッシュになります。</p><p>■<b>正規ページのキャッシュ</b></p><p><amp-img src="../../image/pc-kensaku-cahce.png" layout="intrinsic" alt="" width="320" height="208" class="ccc"></amp-img></p><p>こちらはその正規ページのキャッシュを表示したものです。</p><p><amp-img src="../../image/pc-cache.png" layout="intrinsic" alt="" width="320" height="183" class="ccc"></amp-img></p><p>「Google AMPキャッシュ」は、この正規ページのキャッシュではなく、作成した「AMPページのキャッシュ」になりますが、モバイル環境ではこちらが直接表示されることで高速で表示されるようになります。</p><p>■<b>AMPページのキャッシュ</b></p><p><amp-img src="../../image/amp-google-cache.png" layout="intrinsic" alt="" width="320" height="301" class="ccc"></amp-img></p><p>そのため、配信されるドメインはGoogleのURLになります。</p><p>仮に、自サイトでは重たい格安サーバーを利用していたとしても、Googleが管理しているサーバーから配信されるため、サイトの表示が高速化されるメリットがあります。</p><p>一方で、自サーバー内に作成したAMPページに訪問者が直接アクセスされることはほとんどないかもしれません。</p><p>AMPはGoogleが中心となって開発されたプロジェクトのため、W3CでのValidatorではエラーが出ますし、上記のように異なるドメインから配信されるため、基本は正規ページを「HTML5 ＋ レスポンシブウェブデザイン」で作成しつつも、高速化したいページのみをAMP化させていくことをおすすめします。</p>
<ul>
<li>正規ページ：PC＋タブレット端末＋スマホ（※HTML5の<a href="../../hp/responsive.html">レスポンシブウェブデザイン</a>で作成）</li>
<li>AMPページ：スマホ（※AMP HTMLで作成）→ <span class="aka">Google AMPキャッシュ</span></li>
</ul>
<p>また、Google 検索セントラルでは以下の記載があり、AMPページについてもレスポンシブ デザインが推奨されています。</p><p>「AMP ページ自体はどの種類のデバイスでも表示できるため、<span class="aka">レスポンシブ デザインで AMP ページを作成すること</span>をおすすめします。」</p><p>パソコンやタブレット端末ではGoogle AMPキャッシュは配信されず、あまり高速化されないとは思いますが、AMPはGoogleだけで利用できる機能ではないため、PCサイトでもタブレット端末でも閲覧できるようにしておいた方がよいかもしれません。</p><!-- #BeginLibraryItem "/Library/ad-a.lbi" -->
<amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-7318724010966086"
     data-ad-slot="7441039866"
     data-auto-format="rspv"
     data-full-width="">
  <div overflow=""></div>
</amp-ad><!-- #EndLibraryItem --><h2>ホームページをAMP化する際の手順</h2>
<p>まずはAMPページを入れておく専用の「amp」フォルダを作成し、カテゴリ分けのフォルダなどもPC用と同じように作成しておきます。</p><p>次に、作成したフォルダにオリジナルページのHTMLファイルをコピーし、以下の10カ所程度を修正することでAMPに対応することができます。</p><p id="step1">■<b>AMP化の手順</b></p><p>（１）DTDの&lt;html ⚡ lang=&quot;ja&quot;&gt;の箇所<br>
（２）&lt;link rel=&quot;canonical&quot;でオリジナルページへ正規化<br>
（３）外部CSSは使えないため、&lt;link rel=&quot;stylesheet&quot;を削除<br>
（４）&lt;style amp-custom&gt;&lt;/style&gt;内に外部CSSを置き換え<br>
（５）&lt;style amp-boilerplate&gt;～の定型文の記載<br>
（６）&lt;script async src=&quot;https://cdn.ampproject.org/v0.js&quot;&gt;&lt;/script&gt;の定型文の記載<br>
（７）&lt;img&gt;タグを&lt;amp-img&gt;&lt;/amp-img&gt;に置き換え<br>
（８）javascriptの使用は制限があるため、アクセス解析や広告などを削除<br>
（９）オリジナルの元のページに&lt;link rel=&quot;amphtml&quot;を記載してAMPページを通知<br>
（10）チェックツールでエラーを修正　→　<a href="https://search.google.com/test/amp?hl=ja" target="_blank" rel="nofollow noopener">AMPテスト</a></p><p>上記の公式サイトではサンプルコードが公開されていますが、順序なども含め、ほぼ、そちらの通りに作成していけば問題ありません。</p><p><amp-img src="../../image/amp.png" layout="intrinsic" alt="" width="320" height="202" class="ccc"></amp-img></p><p>■<b>&lt;html ⚡ lang=&quot;ja&quot;&gt;の記載</b></p><p>稲妻マークの絵文字に戸惑うかもしれませんが、そのまま記載します。また、lang=&quot;en&quot;&gt;の箇所は日本語のlang=&quot;ja&quot;&gt;に書き変えておくことをおすすめします。</p><p><amp-img src="../../image/amp-tag1.png" layout="intrinsic" alt="" width="320" height="210" class="ccc"></amp-img></p>

<p id="step2">■<b>AMPページの指定とオリジナルへの正規化</b></p><p>AMPページは昔の<a href="../../hp/keitai-site.html">ガラケー携帯サイトの作り方</a>と似ていますが、PC用のオリジナルページには &lt;link rel=&quot;amphtml&quot; を記載します。これにより、AMP版のページが存在することをGoogleやTwitterなどに通知することができます。</p><p>一方、AMPページの方には <span class="aka">&lt;link rel=&quot;canonical&quot;</span> を記載して元のオリジナルページへと正規化します。</p><p><amp-img src="../../image/amp-tag2.png" layout="intrinsic" alt="" width="320" height="210" class="ccc"></amp-img></p><p> この &lt;link rel=&quot;canonical&quot; についてはPC用のオリジナルのページにも記載し、自分自身に正規化して明示しておくのもよいかと思います。</p><p>■<b>CSSの記載</b></p><p>外部CSSは使えないため、&lt;link rel=&quot;stylesheet&quot;の記載は削除します。スタイルシートは<span class="aka">&lt;style amp-custom&gt;&lt;/style&gt;</span>内にまとめて記載しますが、正規ページの外部CSSと同じものをそのまま記載しておけば問題ないかと思います。</p><p><amp-img src="../../image/style-amp-custom.png" layout="intrinsic" alt="" width="320" height="205" class="ccc"></amp-img></p><p>Google 検索セントラルでは、AMPページはレスポンシブ デザインで作成することが推奨されているため、正規ページのレスポンシブ対応のCSSをそのまま使用するよいと思います。</p><p>ただし、AMPはモバイル端末での表示がメインとなるため、PC表示用のスタイルシートについては簡素化した方が高速化されるかもしれません。メディアクエリのブレイクポイントで600pxあたりまでのスマホに対応しておけば問題ないかと思います。</p><p>また、できるだけ<a href="../../css/minify.html">CSSのMinify化</a>で半角スペースや改行などを削除し、ファイルの容量を圧縮しておくことをおすすめしますが、Google AMPキャッシュでの利用については自動で変換してくれるようです。</p><p><amp-img src="../../image/g-amp.png" layout="intrinsic" alt="" width="320" height="200" class="ccc"></amp-img></p><p>（参照：<a href="https://developers.google.com/amp/cache/overview?hl=ja#html-sanitization" target="_blank" rel="nofollow noopener">HTML のサニタイズ</a>）</p><p>■<b>定型文の記載</b></p><p>（５）と（６）の定型文のコードは長いので、このページでは省略してますが、何も考えずに公式サイトの通りにそのまま記載して問題ありません。</p><p><amp-img src="../../image/teikei-amp.png" layout="intrinsic" alt="" width="320" height="205" class="ccc"></amp-img></p><p>上記5カ所の記載がメインになりますが、AMP広告も掲載する際は「amp-ad」のタグが必要となり、さらにアクセス解析も設置する際は「amp-analytics」関連でのタグが必要になります。</p><p>■<b>画像タグの修正</b></p><p>難易度が高いのは&lt;img&gt;タグの&lt;amp-img&gt;&lt;/amp-img&gt;への置き換えですが、AMPページでは終了タグの&lt;/amp-img&gt;が必要なため、一括での置換は難しいかもしれません。</p><p>また、画像に layout=&quot;responsive&quot; を指定することでコンテナ要素の幅と同じになるように自動で拡大、縮小されます。ただし、ロゴなどに設定してしまいますとロゴが巨大化してしまいます。</p><p>そのため、はみ出る場合は縮小されつつ、なおかつ通常の場合は原寸大で表示される layout=&quot;intrinsic&quot; を指定しておくことをおすすめします。</p><p>■<b>内部リンク</b></p><p>AMPページに記載する内部リンクは、オリジナルの正規ページを指定しているケースが多いと感じています。オリジナルページでのキャッシュも確認して、そちらと同じ構造になるようにしておくことをおすすめします。</p><p>■<b>その他</b></p><p>大手ニュースサイトなどの場合、<a href="../../hp/json.html">構造化データ</a>も作成して検索結果のリッチリザルトにも対応した方がよいと思いますが、こちらについては省略できます。</p><p>AMP化しないと利用できないリッチリザルト機能があるものの、そもそもAMPによる「モバイルサイト高速化」と構造化データによる「検索結果のリッチリザルト化」は別の機能です。とりあえずはAMP化した上で、余力があれば対応することをおすすめします。</p>
<ul>
<li>AMP → モバイル環境での高速表示</li>
<li>構造化データ → 検索結果でのリッチリザルト表示</li>
</ul>
<p>ちなみに、このページでは「HowTo」の構造化データを記載していますが、タイミングによってはモバイル検索でこのようなリッチリザルトが表示されます。</p><p><amp-img src="../../image/rich-result2.png" layout="intrinsic" alt="" width="320" height="300" class="ccc"></amp-img></p><p>ただし、この構造化データのリッチリザルトはAMP化しなくても利用できるものも多いため、AMPに関わらず、通常のホームページでも対応しておくとよいかもしれません。</p><p>また、OGPタグはPC用のオリジナルのものをそのまま使用してよいと思いますが、細かい点は大手メディアなどのAMPページを参考にされるとよいかと思います。</p><p>WEBフォントについては、Google AMPキャッシュではフォントもキャッシュする必要があるため、サーバー内に設置しているフォントについてはダウンロード可能な状態に設定しておくことをおすすめします。</p><p>もし表示されない場合、.htaccessでMIMEタイプを設定しておくことをおすすめします。<br>
→ <a href="../../css/web-font.html">@font-faceでWEBフォントの指定方法</a></p><p>AdSense広告の場合、amp-adのスクリプトを&lt;head&gt;&lt;/head&gt; タグの間に貼り付けたのち、AMP対応のAdSenseタグをコンテンツ中に貼り付ける形になります。</p><p>Google Analyticsについては「<a href="https://developers.google.cn/analytics/devguides/collection/amp-analytics?hl=ja" target="_blank" rel="nofollow noopener">AMP ページにアナリティクスを追加する</a>」の箇所に書かれていますが、実際に設定する際は<a href="https://developers.google.com/tag-platform/gtagjs/amp?technology=gtagjs" target="_blank" rel="nofollow noopener">こちらのページ</a>と見比べながら設定するとよいかと思います。ただし、次世代の Google アナリティクス（GA4）はまだ未対応のようですし、個別のケースで異なるかもしれません。</p><p id="step3">■<b>AMPチェック</b></p><p>あとはAMPのチェックツールを使い、エラーが出てこないか確認します。</p><p>こちらはこのページのAMPページをチェックしたものですが、問題ない場合はこのように表示されます。</p><p><amp-img src="../../image/amp-ok.png" layout="intrinsic" alt="" width="320" height="224" class="ccc"></amp-img></p><p>プレビュー機能もあり、イナズママークがあれば、AMPページということになります。</p><p><amp-img src="../../image/amp-ok2.png" layout="intrinsic" alt="" width="320" height="278" class="ccc"></amp-img></p><p>チェックツールについては、<a href="../../css/chrome-devtool.html">Chromeデベロッパーツール</a>やAMPの公式ページの<a href="https://validator.ampproject.org/" target="_blank" rel="nofollow noopener">The AMP Validator</a>などもありますが、上記のGoogleのAMPテストが使いやすかったです。</p><!-- #BeginLibraryItem "/Library/ad-a.lbi" -->
<amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-7318724010966086"
     data-ad-slot="7441039866"
     data-auto-format="rspv"
     data-full-width="">
  <div overflow=""></div>
</amp-ad><!-- #EndLibraryItem --><h2>AMPページの内部リンクには正規URLを記載する</h2>
<p>AMPページでは左上のマークをタップすると正規化のURLを確認できますが、この表示されているAMPページ自体はキャッシュのため、配信されるURLについてはGoogleのURLになります。</p><p><amp-img src="../../image/amp-google-cache.png" layout="intrinsic" alt="" width="320" height="301" class="ccc"></amp-img></p><p>例えば、このページのAMPバージョンの場合、Google AMPキャッシュのURLは以下のようになっていましたが、httpsやhttpなどでも違いがあり、おそらく、/amp/s/の「s」はhttpsのsかと思います。</p><p><span class="aka">https://www.google.co.jp/amp/s/</span>www.homepage-tukurikata.com/amp/hp/amp.html</p><p>URLがGoogleのため、AMPページの内部リンクを相対パスで指定すると、内部リンクもGoogleのURLで表示されるかといえば、PCページ版のキャッシュと同様、きちんと自サイトのURLで表示されていました。</p><p>上記の「HTML のサニタイズ」の箇所には以下の記載がありますが、このことを指しているのではないかと思われます。</p><p>「ドキュメントがサイト運営者からではなく Google AMP キャッシュから提供される場合でも外部へのリンクを引き続き使用できるよう、外部へのリンクが絶対リンクに設定されます。」</p>
<p>また、AMPページの内部リンクには、「自サイト内のAMPページ」でも「GoogleのAMPページのキャッシュ」でもなく、「正規のオリジナルページ」で内部リンクを記載するのが一般的です。</p><p>■<b>AMPページに記載する内部リンク → PC版の正規URLを指定</b></p><p>そのため、「GoogleのAMPページのキャッシュ」から、内部リンクを経由して自サイト内を巡回する際はオリジナルの正規ページへとアクセスされることになり、自サイト内のAMPページに直接アクセスされることはないかもしれません。</p>
<ul>
<li>自サイト内のAMPページ　→　実際は直接アクセスされない</li>
<li>GoogleのAMPページのキャッシュ（GoogleのURL）→　モバイル検索のランディングページ</li>
<li>正規のオリジナルページ → PC検索のランディングページ</li>
</ul>
<p>また、AMPページの内部リンクには自サイトの正規URLが記載されるため、ランディングページ自体は高速化されたとしても、そこからサイト内を巡回する場合は正規のオリジナルページへ移動となります。</p><p>そのため、検索結果から飛んだ最初のランディングページについては高速化されたとしても、そこからサイト内を巡回する場合は遅く表示されるはずです。</p><p>全てのページを高速化する場合、内部リンクまでを含め、全てのページをGoogle AMPキャッシュのURLで指定する必要がありますが、そもそもAMPはGoogleのプロダクトではありませんし、AMPページを利用できるサービスはGoogleのみではないため、一般的なサイトではそういった形での運用はされていないようです。</p><!-- #BeginLibraryItem "/Library/amp-kanren.lbi" -->
<span id="kanren"><amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-7318724010966086"
     data-ad-slot="9390056168"
     data-auto-format="mcrspv"
     data-full-width="">
  <div overflow=""></div>
</amp-ad></span><!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/ad-a.lbi" -->
<amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-7318724010966086"
     data-ad-slot="7441039866"
     data-auto-format="rspv"
     data-full-width="">
  <div overflow=""></div>
</amp-ad><!-- #EndLibraryItem -->
<div class="navi"><a href="../../index.html">トップページ</a>　&#8260;　<a href="../../hp/index.html">作り方</a>　&#8260;　<b>AMPページ</b></div>
<div class="list">
<div class="listtitle">関連ページ</div>
<ul class="list-ul">
<li class="list-li"><a href="../../hp/responsive.html">レスポンシブサイトの作り方</a></li>
<li class="list-li"><a href="../../access/mobile.html">モバイル端末への最適化</a></li>
<li class="list-li"><a href="../../hp/keitai-site.html">携帯サイトの作り方（ガラケーサイト）</a></li>
<li class="list-li"><a href="../../hp/json.html">構造化データの作り方</a></li>
<li class="list-li"><a href="../../hp/best-image-size.html">Article構造化データの画像サイズを比較</a></li>
<li class="list-li"><a href="../../css/minify.html">CSSのMinify化で容量を圧縮</a></li>
<li class="list-li"><a href="../../css/chrome-devtool.html">CSSの確認はChromeデベロッパーツールが便利</a></li>
<li class="list-li"><a href="../../html/ogp.html">OGPのmetaタグでSNSに最適化</a></li>
<li class="list-li"><a href="../../access/core-webvitals.html">Core Web Vitals（コアウェブバイタル）とは？</a></li>
</ul>
</div>
</main>
</div><aside id="sidebar"><!-- #BeginLibraryItem "/Library/amp-side.lbi" -->
<div class="sidet hpcss ctop">基礎知識</div>
<div class="side">
<ul>
<li><a href="../../hp/basic.html">無料ホームページとは？</a></li>
<li><a href="../../hp/css.html">トップページを複製しての作り方</a></li>
<li><a href="../../hp/tag-teuti.html">HTMLタグを手打ちしての作り方</a></li>
<li><a href="../../hp/file.html">ホームページファイルの種類</a></li>
<li><a href="../../hp/style.html">ホームページファイルの作成方法</a></li>
<li><a href="../../hp/ffftp-setuzoku.html">FTP接続によるアップロード方法</a></li>
<li><a href="../../hp/folder.html">フォルダ分けによる階層化</a></li>
<li><a href="../../hp/toppage.html">index.htmlとトップページの関係</a></li>
<li><a href="../../hp/ouyou.html">レンタルサーバーでの作り方</a></li>
<li><a href="../../domain/domein.html">独自ドメインとは何ですか？</a></li>
<li><a href="../../domain/nameserver.html">独自ドメインの設定方法</a></li>
<li><a href="../../hp/name.html">個別ページのファイル名の付け方</a></li>
<li><a href="../../hp/public-html.html">public_htmlフォルダとは？</a></li>
<li><a href="../../access/w3c-valid.html">W3C Validでウェブ標準な作り方</a></li>
<li><a href="../../html/dtd.html">DTDとはいったい何でしょうか？</a></li>
<li><a href="../../access/robotstxt.html">「robots.txt」の記述例とサンプル</a></li>
<li><a href="../../hp/redirect.html">リダイレクト設定による転送方法</a></li>
<li><a href="../../hp/kihon.html">その他の基本事項</a></li>
</ul>
</div>
<div class="sidet hikaku">ホームページスペース</div>
<div class="side kiiro">
<ul>
<li><a href="../../rental-server/index.html">個人向けレンタルサーバー比較</a></li>
<li><a href="../../rental-server/houjin.html">法人向けレンタルサーバー比較</a></li>
<li><a href="../../rental-server/free-space.html">無料ホームページスペース比較</a></li>
<li><a href="../../domain/index.html">独自ドメインの取得方法</a></li>
</ul>
</div>
<div class="sidet hpcss">簡単な作り方</div>
<div class="side">
<ul>
<li><a href="../../hp/make.html">簡単な無料ホームページの作り方</a></li>
<li><a href="../../hp/freesample.html">テンプレートのカスタマイズ方法</a></li>
<li><a href="../../hp/styles-css.html">スタイルシートでデザインを変更</a></li>
<li><a href="../../css/howto-css.html">スタイルシートの作り方</a></li>
<li><a href="../../hp/css-example.html">スタイルシートカスタマイズの手順</a></li>
<li><a href="../../hp/css-hp.html">最新版のテンプレートサンプル</a></li>
<li><a href="../../hp/html-make1.html">個別ページの作成方法</a></li>
<li><a href="../../hp/link.html">リンクタグの作り方</a></li>
<li><a href="../../hp/kaisya-hp.html">会社ホームページの作り方</a></li>
<li><a href="../../hp/image.html">ホームページに画像の貼り方</a></li>
<li><a href="../../hp/banner.html">サイトのロゴ画像の作り方</a></li>
<li><a href="../../hp/mt.html">CMSでのホームページ作成方法</a></li>
<li><a href="../../hp/moving.html">レンタルサーバーへの引越方法</a></li>
</ul>
</div>
<div class="sidet hpcss">応用</div>
<div class="side momo">
<ul>
<li><a href="../../html/howto-html5.html">HTML5への修正方法</a></li>
<li><a href="../../hp/responsive.html">レスポンシブサイトの作り方</a></li>
<li><a href="../../rental-server/ssl.html">独自SSLの設定でHTTPS化</a></li>
<li><a href="../../html/ogp.html">OGPのmetaタグでSNSに最適化</a></li>
<li><a href="../../hp/what-webfont.html">WEBフォントとは何ですか？</a></li>
<li><a href="../../hp/amp.html">AMPページの作り方</a></li>
<li><a href="../../hp/json.html">構造化データの作り方</a></li>
</ul>
</div>
<div class="sidet hikaku">アクセスアップ</div>
<div class="side kiiro">
<ul>
<li><a href="../../access/index.html">アクセスアップの方法</a></li>
<li><a href="../../access/seo.html">SEO対策でアクセスアップ</a></li>
<li><a href="../../access/mobile.html">モバイル端末への最適化</a></li>
<li><a href="../../access/attract.html">ホームページの集客方法</a></li>
<li><a href="../../access/analysis.html">アクセス解析の設置方法</a></li>
</ul>
</div>
<div class="sidet hpcss">その他</div>
<div class="side haiiro">
<ul>
<li><a href="../../html/index.html">HTMLタグの一覧</a></li>
<li><a href="../../css/index.html">CSSの一覧</a></li>
<li><a href="../../html/programming-school.html">プログラミングスクール一覧</a></li>
<li><a href="../../hp/koukoku-syuunyuu.html">広告収入のススメ</a></li>
<li><a href="../../hp/website-creation-company.html">ホームページ制作会社</a></li>
<li><a href="../../hp/hp-sozai.html">ホームページ素材</a></li>
<li><a href="../../hp/soft.html">HP作成ソフト</a></li>
<li><a href="https://template.homepage-tukurikata.com/">無料テンプレート</a></li>
</ul>
</div><!-- #EndLibraryItem --></aside></div><footer>
<div class="pagetop"><a href="#outer"><svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 0 24 24" width="36px" class="svg-outer" role="img" aria-label="このページの上へ"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" class="upward"/></svg></a></div>
<div class="copyright"><ul class="copy-ul">
<li class="copy-li"><a href="../../index.html">トップページ</a></li><li class="copy-li"><a href="../../privacy.html">プライバシーポリシー</a></li><!-- 
--><li class="copy-li"><a href="../../terms.html">利用規約</a></li><li class="copy-li"><a href="../../hp/about.html">About</a></li><!-- 
--><li class="copy-li"><a href="../../sitemap.html">サイトマップ</a></li><li class="copy-li"><a href="https://blog-tips.net/">ブログの作り方</a></li>
</ul>
<p>&copy;2023 www.homepage-tukurikata.com</p></div>
</footer>
</div>
<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "HowTo",
      "name": "AMPページの作り方",
      "description": "AMPページを作成する際、AMPのルールに沿ってHTMLファイルを作成する必要があります。ただし、AMP独自のHTMLタグはそれほど多くはないため、既存ページをそのまま流用することで簡単に対応できます。",
      "image": {
        "@type": "ImageObject",
        "url": "https://www.homepage-tukurikata.com/image/amp-ok2.png",
        "height": "278",
        "width": "320"
      },
      "supply": [
        {
          "@type": "HowToSupply",
          "name": "AMPボイラープレートコード"
        }
      ],
      "tool": [
        {
          "@type": "HowToTool",
          "name": "テキストエディタ"
        },{
          "@type": "HowToTool",
          "name": "AMP Validator"
        }
      ],
      "step": [
        {
          "@type": "HowToStep",
          "name": "AMP HTMLファイルの作成",
		  "url": "https://www.homepage-tukurikata.com/hp/amp.html#step1",
          "itemListElement": [
		  {
            "@type": "HowToDirection",
            "text": "AMPページ専用の「amp」フォルダを作成し、オリジナルページをコピーします。"
          },
		  {
            "@type": "HowToDirection",
            "text": "DTDやCSS、amp用のimgタグを書き変え、AMP固有の定型文を追加します。"
          }, 
		  {
            "@type": "HowToDirection",
            "text": "<link rel=を使い、オリジナルページとAMPページを双方向にリンクします。"
          } ,{
            "@type": "HowToTip",
            "text": "構造化データは必須ではありませんが、記載するとリッチリザルトで表示されるようになります。"
          }
		  ],
          "image": {
            "@type": "ImageObject",
            "url": "https://www.homepage-tukurikata.com/image/amp.png",
            "height": "202",
            "width": "320"
          }
        },
		 {
          "@type": "HowToStep",
          "name": "AMPページの通知と正規化",
		  "url": "https://www.homepage-tukurikata.com/hp/amp.html#step2",
          "itemListElement": [
		  {
            "@type": "HowToDirection",
            "text": "オリジナルページにはlinkタグで「amphtml」を指定し、AMPページの存在を通知します。"
          },
		   {
            "@type": "HowToDirection",
            "text": "AMPページにはlinkタグで「canonical」を指定し、オリジナルページに正規化します。"
          }
		  ]
        },
		 {
          "@type": "HowToStep",
          "name": "チェックツールでエラーの修正",
		  "url": "https://www.homepage-tukurikata.com/hp/amp.html#step3",
          "itemListElement": [
		  {
            "@type": "HowToDirection",
            "text": "各種のAMPチェックツールを使い、エラーがあれば修正します。"
          },
		   {
            "@type": "HowToDirection",
            "text": "Googleの「AMP」テストでプレビューを表示し、実際の表示を確認します。"
          }]
		  ,
          "image": {
            "@type": "ImageObject",
            "url": "https://www.homepage-tukurikata.com/image/amp-ok.png",
            "height": "224",
            "width": "320"
          }
        }
      ],
      "totalTime": "PT1H"
    }
</script>
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.homepage-tukurikata.com/hp/amp.html"
      },
      "headline": "AMPページの作り方",
      "image": [
        "https://www.homepage-tukurikata.com/image/amp-speed-640px.png"
       ],
      "datePublished": "2021-01-05T17:50:54+09:00",
      "dateModified": "2021-02-11T00:09:44+09:00",
      "author": {
        "@type": "Person",
        "name": "サイト管理人"
      },
       "publisher": {
        "@type": "Organization",
        "name": "www.homepage-tukurikata.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.homepage-tukurikata.com/amp-logo.png"
        }
      }
    }
</script>
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "トップ",
        "item": "https://www.homepage-tukurikata.com/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "作り方",
        "item": "https://www.homepage-tukurikata.com/hp/"
      },{
        "@type": "ListItem",
        "position": 3,
        "name": "AMPページの作り方",
        "item": "https://www.homepage-tukurikata.com/hp/amp.html"
      }]
    }
</script>
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "トップ",
        "item": "https://www.homepage-tukurikata.com/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "モバイル端末への最適化",
        "item": "https://www.homepage-tukurikata.com/access/mobile.html"
      },{
        "@type": "ListItem",
        "position": 3,
        "name": "AMPページの作り方",
        "item": "https://www.homepage-tukurikata.com/hp/amp.html"
      }]
    }
</script>
</body>
</html>